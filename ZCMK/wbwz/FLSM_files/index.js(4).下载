/*!
 * 阿里巴巴信息平台前端监控插件： v0.3.18
 * 如有疑问请联系： 曙月<tommy.lky@alibaba-inc.com>，仓舒<caoke.ck@alibaba-inc.com>
 */!function(e){function n(n){for(var t,r,i=n[0],a=n[1],c=0,d=[];c<i.length;c++)r=i[c],o[r]&&d.push(o[r][0]),o[r]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);for(u&&u(n);d.length;)d.shift()()}var t={},o={1:0};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(e){var n=[],t=o[e];if(0!==t)if(t)n.push(t[2]);else{var i=new Promise(function(n,r){t=o[e]=[n,r]});n.push(t[2]=i);var a,c=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.src=function(e){return r.p+""+({0:"afterLoad"}[e]||e)+"."+{0:"65576fb1da806c16e741"}[e]+".js"}(e),0!==u.src.indexOf(window.location.origin+"/")&&(u.crossOrigin="anonymous"),a=function(n){u.onerror=u.onload=null,clearTimeout(d);var t=o[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src,a=new Error("Loading chunk "+e+" failed.\n("+r+": "+i+")");a.type=r,a.request=i,t[1](a)}o[e]=void 0}};var d=setTimeout(function(){a({type:"timeout",target:u})},12e4);u.onerror=u.onload=a,c.appendChild(u)}return Promise.all(n)},r.m=e,r.c=t,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="//g.alicdn.com/platform/monitor-plugin/",r.oe=function(e){throw console.error(e),e};var i=window._AliMonitor_Plugin_Webpack_JSONP=window._AliMonitor_Plugin_Webpack_JSONP||[],a=i.push.bind(i);i.push=n,i=i.slice();for(var c=0;c<i.length;c++)n(i[c]);var u=a;r(r.s=2)}([function(e,n,t){"use strict";function o(e){e.keys().forEach(e)}t.d(n,"c",function(){return o}),t.d(n,"a",function(){return r}),t.d(n,"b",function(){return i}),t.d(n,"d",function(){return a});var r=new Promise(function(e){if("complete"===document.readyState&&setTimeout(e,0),window.addEventListener){window.addEventListener("load",function n(){window.removeEventListener("load",n,!1),e()},!1)}else if(window.attachEvent){window.attachEvent("onload",function n(){window.detachEvent("onload",n),e()})}}),i=window.AliMonitor,a=i._plugin},function(e,n,t){"use strict";t.r(n);var o=t(0);Object(o.c)(t(3))},function(e,n,t){"use strict";t.r(n);t(1);t(0).a.then(function(){return t.e(0).then(t.bind(null,5))})},function(e,n,t){var o={"./fmp.ts":4,"./index.ts":1};function r(e){var n=i(e);return t(n)}function i(e){var n=o[e];if(!(n+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=3},function(e,n,t){"use strict";t.r(n);var o,r,i,a=t(0);try{if("undefined"!==typeof MutationObserver&&"undefined"!==typeof screen){var c,u=0,d=Date.now(),f=0,s=0,l=d,p=0,m=!1,v=function(){if(m)g.disconnect();else{var e=Date.now(),n=document.getElementsByTagName("*").length,t=n-f,o=e-d,r=Math.max(1,document.body.clientHeight/screen.availHeight),i=location.href,a=t/o/r;a>s&&(s=a,l=e,c&&c!=i?g.disconnect():(p=l-performance.timing.fetchStart,console.log("FMP: updated ".concat(p)))),d=e,f=n,c=i}},g=new MutationObserver(function(){clearTimeout(u),u=setTimeout(v,100)});g.observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("unload",function(){p&&y(p)});var w=(o=function(e){!0===m&&window.removeEventListener("scroll",w,!0);var n=e.target,t=n&&(n===document?window.pageYOffset:n.scrollTop);void 0!=t&&t>screen.availHeight/5&&(console.log("FMP: stop by scroll"),m=!0)},r=200,i=0,function(){var e=+new Date;if(e-i>r){for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];o.apply(void 0,t),i=e}});window.addEventListener("scroll",w,!0),setTimeout(function(){m||(console.log("FMP: stop by timeout"),m=!0)},25e3)}var y=function(e){var n=function(e){return"https://retcode.taobao.com/r.png?times=1&type=log&sampling=1&category=fmp_report&msg=".concat(e,"&spm=").concat(a.b._runtimeConfig.spm,"&tag=uxdata&timing_debug=").concat(Date.now(),"-").concat(performance.timeOrigin||0,"-").concat(performance.timing.fetchStart||0)}(e);if(navigator.sendBeacon)navigator.sendBeacon(n);else{var t=new XMLHttpRequest;t.open("GET",n,!1),t.send()}}}catch(h){a.d.log("FMP",h)}}]);