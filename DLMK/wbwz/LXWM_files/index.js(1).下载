!function(n){function e(n){var e=null,t=r(n);return t>-1&&(e=w[t]),e}function t(n,e){var t=r(n);-1===t?w.push(e):w[t]=e}function r(n){var e,t=-1;for(e=0;e<w.length;e++)w[e].token===n&&(t=e);return t}function o(n){var e=r(n);-1!==e&&w.splice(e,1)}function i(){var n,e="";try{n=/_nk_=([^;]+)/.exec(document.cookie)||/_w_tb_nick=([^;]+)/.exec(document.cookie)||/lgc=([^;]+)/.exec(document.cookie)||/tracknick=([^;]+)/.exec(document.cookie),n&&(e=decodeURIComponent(n[1]))}catch(t){}finally{}return e}function a(n,e,t){return"object"!=typeof n?{}:(n.xtAvailScreen=n.xtAvailScreen?n.xtAvailScreen:s(),n.xtBroswer=n.xtBroswer?n.xtBroswer:c(),n.xtOS=n.xtOS?n.xtOS:p(),n.lastactiontype=e.lastactiontype,n.duration=t-e.lastTimestamp,n)}function s(){var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return n+"x"+e}function c(){if(!window.navigator)return T;try{var n,e,t,r=(navigator.appVersion,navigator.userAgent),o=navigator.appName,i=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10);return r?(-1!=(e=r.indexOf("Opera"))&&(o="Opera",i=r.substring(e+6),-1!=(e=r.indexOf("Version"))&&(i=r.substring(e+8))),-1!=(e=r.indexOf("OPR"))?(o="Opera",i=r.substring(e+4)):-1!=(e=r.indexOf("MSIE"))?(o="Microsoft Internet Explorer",i=r.substring(e+5)):-1!=(e=r.indexOf("Chrome"))?(o="Chrome",i=r.substring(e+7)):-1!=(e=r.indexOf("Safari"))?(o="Safari",i=r.substring(e+7),-1!=(e=r.indexOf("Version"))&&(i=r.substring(e+8))):-1!=(e=r.indexOf("Firefox"))?(o="Firefox",i=r.substring(e+8)):-1!=r.indexOf("Trident/")?(o="Microsoft Internet Explorer",i=r.substring(r.indexOf("rv:")+3)):(n=r.lastIndexOf(" ")+1)<(e=r.lastIndexOf("/"))&&(o=r.substring(n,e),i=r.substring(e+1),o.toLowerCase()==o.toUpperCase()&&(o=navigator.appName)),-1!=(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!=(t=i.indexOf(" "))&&(i=i.substring(0,t)),-1!=(t=i.indexOf(")"))&&(i=i.substring(0,t)),a=parseInt(""+i,10),isNaN(a)&&(i=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10)),o+"-"+a+"-"+i):T}catch(s){return T}}function p(){var n=navigator.appVersion,e=navigator.userAgent,t=m,r=m,o=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var i in o){var a=o[i];if(a.r.test(e)){t=a.s;break}}switch(/Windows/.test(t)&&(r=/Windows (.*)/.exec(t)[1],t="Windows"),t){case"Mac OS X":r=/Mac OS X (10[\.\_\d]+)/.exec(e)[1];break;case"Android":r=/Android ([\.\_\d]+)/.exec(e)[1];break;case"iOS":r=/OS (\d+)_(\d+)_?(\d+)?/.exec(n),r=r[1]+"."+r[2]+"."+(0|r[3])}return t+"-"+r}function u(n,e){var t="//gm.mmstat.com"+n+"?cache="+(new Date).getTime()+"&gokey="+encodeURIComponent(e)+"&logtype=2&gmkey=",r=new Image,o="img_"+Math.random();window[o]=r,r.onload=r.onerror=function(){window[o]=null},r.setAttribute("src",t)}function d(){return Math.random().toString(15).substr(2,64)}if(!n.XLogTracker){var l="/alikf.1.1",f="H46717801",g="",m="unknown",T=m;n.XLogTracker={};var w=[],k=null;n.XLogTracker.initConfig=function(n){return n&&"appname"in n?(null!==k&&console&&console.log("\u91CD\u590D\u8C03\u7528\u4E86FELogTracker.initConfig\u65B9\u6CD5\uFF0C\u6B63\u5728\u8986\u5199\u914D\u7F6E"),n.key=n.key||l,n.checksum=n.checksum||f,k=n,void(k.nick=i())):void(console&&console.log("XLogTracker.initConfig\u5FC5\u987B\u4F20\u5165\u4E1A\u52A1\u6240\u5C5Eappname\uFF0C\u8BF7\u786E\u8BA4\u4E0D\u4F1A\u4E0E\u5176\u5B83\u4E1A\u52A1\u91CD\u590D"))},n.XLogTracker.getConfig=function(){return k},n.XLogTracker.getTokens=function(){return w},n.XLogTracker.startSessionWithToken=function(n){if(!(n&&"token"in n))return void(console&&console.log("window.XLogTracker.startSessionWithToken\u65B9\u6CD5\u5FC5\u987B\u4F20\u5165token\u914D\u7F6E\u9879\uFF01"));var e=n.token,t=n.sessionType||g,o=r(e);o>-1?console&&console.log("window.XLogTracker.startSessionWithToken\u65B9\u6CD5\u4E2D\u4F20\u5165\u4E86\u5DF2\u6709\u7684token\u503C"):w.push({sessionType:t,token:e,lastTimestamp:(new Date).getTime(),lastactiontype:""})},n.XLogTracker.startSession=function(n){if(null===k)return void(console&&console.log("\u8BF7\u5148\u4F7F\u7528FELogTracker.initConfig\u65B9\u6CD5\u914D\u7F6Eappname\uFF01"));var e={};e.sessionType=n&&n.sessionType||g;var r=d();return e.token=r,e.lastTimestamp=(new Date).getTime(),t(r,e),r},n.XLogTracker.record=function(r,o){var i=[],s=(new Date).getTime(),c=e(r);if(null!==c){if(!("actionDescription"in o&&"actionType"in o))return void(console&&console.log("\u8C03\u7528FELogTracker.record\u8BF7\u6307\u5B9AactionDescription\u548CactionType"));o.actionType=encodeURIComponent(o.actionType),o.actionDescription=encodeURIComponent(o.actionDescription),o.actionAttrValue=void 0!==o.actionAttrValue?encodeURIComponent(o.actionAttrValue):"",o.actionAttrDescription=void 0!==o.actionAttrDescription?encodeURIComponent(o.actionAttrDescription):"",o.userAttrValue=void 0!==o.userAttrValue?encodeURIComponent(o.userAttrValue):"",o.userAttrDescription=void 0!==o.userAttrDescription?encodeURIComponent(o.userAttrDescription):"";var p=o.extraData&&"object"==typeof o.extraData?o.extraData:{};p=a(p,c,s),o.extraData=encodeURIComponent(JSON.stringify(p)),o.url=o.url||encodeURIComponent(location.href),o.appname=encodeURIComponent(k.appname),o.sessionType=encodeURIComponent(c.sessionType),o.nick=encodeURIComponent(k.nick),i.push("actiontype="+o.actionType,"actiondescription="+o.actionDescription,"actionattrvalue="+o.actionAttrValue,"actionattrdescription="+o.actionAttrDescription,"userattrvalue="+o.userAttrValue,"userattrdescription="+o.userAttrDescription,"token="+r,"appname="+o.appname,"lastactiontime="+c.lastTimestamp,"timestamp="+s,"page="+o.url,"sessiontype="+o.sessionType,"extradata="+o.extraData,"nick="+o.nick),n.goldlog&&"function"==typeof n.goldlog.record?n.goldlog.record(k.key,"",i.join("&"),k.checksum):u(k.key,i.join("&")),c.lastTimestamp=s,c.lastactiontype=o.actionType,t(r,c)}},n.XLogTracker.endSession=function(n){o(n)}}}(window),function(n){"use strict";function e(n,e,t){var r={};return r.subType=e||s.UNKNOWN_TYPE,r.extraData="object"==typeof t?t:{},r.msg=u.parseMsgFormat(n,e,m),k&&(r.appTypeVeriosn=k),{pushMsg:JSON.stringify(r),displayMsg:r.msg}}function t(n,e){window.JSTracker2?n?n.push({msg:e}):p&&console.warn(g):p&&console.warn(f)}function r(n,e,t){var r="failed to call api ["+n.apiUrl+"] , params is: "+JSON.stringify(n.reqParams)+", response is: "+JSON.stringify(n.resData);return e&&(r="("+e+") "+r),t&&(r="["+t+"] "+r),r}function o(n,e,t){var r=n.reqParams||{},o=n.resData||{},i="mtop error [version: "+r.v+"] [api: "+r.api+"], params is: "+JSON.stringify(r.data)+", response is: "+JSON.stringify(o);return e&&(i="("+e+") "+i),t&&(i="["+t+"] "+i),i}function i(){if(window.JSTracker2)if(m){var n=l+m+"/";y=new window.JSTracker2.constructor({url:n+s.LOG.TYPE_NAME,sampling:T,p_sampling:w}),S=new window.JSTracker2.constructor({url:n+s.ERROR.TYPE_NAME,sampling:T,p_sampling:w}),v=new window.JSTracker2.constructor({url:n+s.WARN.TYPE_NAME,sampling:T,p_sampling:w})}else p&&console.warn(g);else p&&console.warn(f)}function a(n){if(n)k=u.parseStrFormat(n);else if(window.TOP&&window.TOP.mobile){var e=window.TOP.mobile.sys,t=e.InformationOption;e.information([t.QN_VERSION],function(n){if(n){var e="qianniu_"+n.clientVersion;d.setAppTypeVersion(e)}})}}if(!n.XQtyTracker){n.XQtyTracker={};var s={LOG:{TYPE_NAME:"log",SUBTYPE:{}},ERROR:{TYPE_NAME:"error",SUBTYPE:{MTOP:"mtop",API:"api",API_SUCCESS_FALSE:"apiSuccessFalse",API_URL_UNDEFINED:"apiUrlUndefined",API_FORMAT:"apiFormat",DEPENDENCY:"dependency"}},WARN:{TYPE_NAME:"warn",SUBTYPE:{API_VERIFY:"apiVerify",COMPATABILITY:"compatability"}},UNKNOWN_TYPE:"unknown"},c=window.location.hostname.indexOf(".daily.")>-1,p="undefined"!=typeof window.console,u={parseStrFormat:function(n){return n?n:""},parseNumFormat:function(n){if(!n)return-1;try{return parseInt(n,10)}catch(e){return-1}},parseObjFormat:function(n){return n&&"object"==typeof n?n:{}},paraseArrayFormat:function(n){return n&&"[object Array]"===Object.prototype.toString.call(n)?n:[]},parseMsgFormat:function(n,e,t){var r="";return"string"==typeof n?r=n:n instanceof Error?r=n.stack:"object"==typeof n&&(r=JSON.stringify(n)),e&&(r="("+e+") "+r),t&&(r="["+t+"] "+r),r}},d={},l=c?"http://fgt.daily.taobao.net/":"http://fgt.taobao.net/",f="JSTracker2 lib not be loaded, please make sure include following script in page head",g="Logger instance not init, please init the appName or use setAppName",m="",T=100,w=100,k="",y=null,S=null,v=null;d.init=function(n){return window.JSTracker2?(m=n.appname||n.appName,T="number"==typeof n.sampling?n.sampling:T,w="number"==typeof n.p_sampling?n.p_sampling:w,k=u.parseStrFormat(n.appTypeVersion),a(n.appTypeVersion),void i()):void(p&&console.warn(f))},d.log=function(n,r,o){var i=e(n,r,o);return t(y,i.pushMsg),i.displayMsg},d.error=function(n,i,a){var c=e(n,i,a);if(t(S,c.pushMsg),i===s.ERROR.SUBTYPE.API||i===s.ERROR.SUBTYPE.API_SUCCESS_FALSE){var p="object"==typeof a?a:{};c.displayMsg=r(p,i,m)}else i===s.ERROR.SUBTYPE.MTOP&&(c.displayMsg=o(a,i,m));return c.displayMsg},d.warn=function(n,r,o){var i=e(n,r,o);return t(v,i.pushMsg),i.displayMsg},d.setAppName=function(n){m=n?n:m,i()},d.getAppName=function(){return m},d.setSampling=function(n){T="number"==typeof n?n:T,i()},d.getSampling=function(){return T},d.setAppTypeVersion=function(n){k=n?n:k,i()},d.getAppTypeVersion=function(){return k},XQtyTracker.init=function(n){return"object"!=typeof n?void XQtyTracker.error("XQtyTracker options has wrong format"):n.appname?void d.init(n):void XQtyTracker.error('XQtyTracker options must contain "appname" field')},XQtyTracker.log=function(n,e,t){if(n){var r=d.log(n,e,t);p&&"function"==typeof console.log&&console.log(r)}},XQtyTracker.error=function(n,e,t){if(n){var r=d.error(n,e,t);p&&"function"==typeof console.error&&console.error(r)}},XQtyTracker.warn=function(n,e,t){if(n){var r=d.warn(n,e,t);p&&"function"==typeof console.warn&&console.warn(r)}},XQtyTracker.setAppName=d.setAppName,XQtyTracker.getAppName=d.getAppName,XQtyTracker.setSampling=d.setSampling,XQtyTracker.getSampling=d.getSampling,XQtyTracker.CATEGORY=s}}(window),function(n){function e(){return""}function t(n){return n&&n.length&&n.join?n.join(","):void 0!==n&&null!==n?String(n):""}if(!n.XUtTracker){n.XUtTracker={};var r="tc-el-name",o="tc-el-attr";n.XUtTracker.genAttachStr=function(n,e){return e=t(e),r+"="+n+(e?" "+o+"="+e:"")},n.XUtTracker.setAttachStrOnNode=function(n,e,i){e=t(e),i.setAttribute(r,n),e&&i.setAttribute(o,e)},n.XUtTracker.attachTest=function(t,r,o){return void 0===o?n.XUtTracker.genAttachStr(t,r):(this.setAttachStrOnNode(t,r,o),e())},n.XUtTracker.setPatternSpecName=function(n){r=n},n.XUtTracker.getPatternSpecName=function(){return r},n.XUtTracker.setPatternSpecAttr=function(n){o=n},n.XUtTracker.getPatternSpecAttr=function(){return o},n.XUtTracker.mergeCommand=function(n){var e=this;if("object"!=typeof n)throw new Error("commands must be object type");n.attachTest=function(n,t){if(!t||!t.params||!t.params.length)throw new Error("parameter missing for attachTest()");return e.attachTest.apply(e,t.params)}}}}(window),function(n){function e(n){window.console&&console.error(n)}n.XTracker||(n.XTracker={},n.XTracker.init=function(t){return"object"!=typeof t?void(window.console&&e("XTracker options must object json format")):t.appname?(n.XLogTracker&&XLogTracker.initConfig(t),void(n.XQtyTracker&&XQtyTracker.init(t))):void e('XTracker options must contain "appname" field')},n.XTracker.bhr=n.XLogTracker,n.XTracker.qty=n.XQtyTracker,n.XTracker.ut=n.XUtTracker)}(window);